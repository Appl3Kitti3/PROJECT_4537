<!DOCTYPE html>

<html>
    <head>
        <title>Client Side - Story</title>
        <link rel="stylesheet" href="./public/styles/styles.css">
        <link rel="stylesheet" href="./public/styles/story.css">
        <style>

            body
            {
                display: flex;
                justify-content: center;
                align-items: center;
                height: 100vh;
                margin: 0;
                padding: 1%;
            }

        </style>
    </head>

    <body>
        
        <div
        class="body-container">
            <button
            class="navigation_button"
            >
                &lt; Back
            </button>
            <div class="main_container">
                <h1
                id="userName_header"
                ></h1>
        
                <div 
                id="story-container"
                >
                    <div
                    id="story-image"
                    class="image-container">
                    </div>
                    
                    <div class="description">
                        <p
                        id="page_number"
                        >
                            Page 1 of Something
                        </p>
                        <p
                        id="story_description"
                        ></p>
                        
                        <!-- Use mock data to fill this in. Maximum of 4 suggested prompts -->
                        <div 
                        id="prompt_choices"
                        class="prompt_choices">
                        </div>
                    </div>
                </div>
            </div>  
            <button 
            class="navigation_button"
            >
                > Next
            </button>
        </div>
        
        
        <script>
            // This is where the AI generated story will be displayed
            // This is where the user will be able to choose a prompt to continue the story
            const storyDescription = document.getElementById("story_description");
            const promptChoicesDiv = document.getElementById("prompt_choices");
            const storyImage = document.getElementById("story-image");
            const userNameHeader = document.getElementById("userName_header");
            const storyImageElement = document.createElement("img");
            const pageNumberElement = document.getElementById("page_number");
            const mockName = "franlink2024uwu";

            const exampleDescription = "In a secluded forest, a kind-hearted gnome named Elwin lived in a cozy, round house with a thatched roof. Each morning, Elwin fetched water from the stone well and tended to his vibrant garden. One sunny day, while repairing the roof, he heard a splash from the waterfall. Investigating, he found a golden fish in distress, removed a thorn from its fin, and returned it to the pond. To his surprise, the fish transformed into a fairy who granted him three wishes: for the forest to stay lush, the well to never dry, and for the fairy to visit often. The forest grew even more magical, with the fairy's regular visits bringing joy and enchantment to Elwin's life.";

            const examplePrompts = [
                "Elwinâ€™s first wish brings unexpected visitors to the forest, leading to an adventure to protect the magical land.", "The fairy's visits reveal hidden secrets about the forest and its ancient inhabitants, prompting Elwin to embark on a quest.", "A mysterious traveler arrives at Elwin's doorstep, seeking help to find a lost treasure rumored to be hidden near the waterfall."
            ];

            const exampleImageURL = "./public/imgs/house.jpg";

            const totalpageNumber = 4;
            const currentPageNumber = 1;            

            userNameHeader.innerHTML = `Welcome, ${mockName} to your story!`;

            pageNumberElement.innerHTML = `Page ${currentPageNumber} of ${totalpageNumber}`;
            
            storyImageElement.src = exampleImageURL;
            storyImageElement.alt = "AI Generated Image to describe the story";
            storyImage.appendChild(storyImageElement);

            storyDescription.innerHTML = exampleDescription;

            examplePrompts.forEach((suggestion, index) => {
                const button = document.createElement("button");
                button.classList.add("ai_generated_prompt");
                button.innerHTML = `Prompt ${index + 1}: ${suggestion.substring(0, 50)}...`;
                promptChoicesDiv.appendChild(button);
            });
        </script>
    </body>
</html>